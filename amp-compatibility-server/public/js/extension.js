window.addEventListener("DOMContentLoaded",(function(){({init:function(){var e=this;document.querySelectorAll(".extension-verify-status").forEach((function(n){n.addEventListener("change",e.onExtensionVersionStatusChange)})),document.querySelectorAll(".extension-partner-control").forEach((function(n){n.addEventListener("change",e.onExtensionPartnerChange)}))},onExtensionVersionStatusChange:function(){var e=this,n={fail:"Fail",unknown:"Unknown",pass:"Pass",auto_pass:"Pass (Auto)"},t={name:this.dataset.extensionName,version:this.dataset.extensionVersion},s=this.dataset.extensionVersionSlug,a=this.value;s&&(this.disabled=!0,jQuery.post("/admin/extensions/version",{extensionVersionSlug:s,verificationStatus:a},(function(s){var i=document.getElementById("messageContainer"),o=document.createElement("p");"ok"===s.status?(o.classList.add("text-success"),o.innerText='Extension "'.concat(t.name," - ").concat(t.version,'" successfully marked as "').concat(n[a],'"')):(o.classList.add("text-danger"),o.innerText='Failed to mark "'.concat(t.name," - ").concat(t.version,'" as "').concat(n[a],'"')),e.disabled=!1,i.append(o),setTimeout((function(){i.removeChild(o)}),1e4)})))},onExtensionPartnerChange:function(){var e=this,n={name:this.dataset.name,extensionSlug:this.dataset.extensionSlug};if(n.extensionSlug){var t=this.checked||!1;this.disabled=!0,jQuery.post("/admin/extensions",{extensionSlug:n.extensionSlug,status:t},(function(s){var a=document.getElementById("messageContainer"),i=document.createElement("p");"ok"===s.status?(i.classList.add("text-success"),i.innerText='Extension "'.concat(n.name,'" successfully marked as "').concat(t?"Partner extension":"Not a partner extension",'"')):(i.classList.add("text-danger"),i.innerText='Failed to mark "'.concat(n.name,'" as "').concat(t?"Partner extension":"Not a partner extension",'"')),e.disabled=!1,a.append(i),setTimeout((function(){a.removeChild(i)}),1e4)}))}}}).init()}));